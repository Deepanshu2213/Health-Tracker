import{a as k,r as n,x as A,j as e,w as j,y as M,z as L,A as O,d as T,s as _,L as q,E as D,B as G}from"./index-0h3Qi8Xq.js";import{u as $}from"./useResizeContext-0p_tlcIy.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],B=k("x",z),P=({children:s,setOpen:r})=>{n.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const a=document.getElementById("modal-root");return a?A.createPortal(e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 bg-opacity-50 backdrop-blur-sm",onClick:()=>{r(!1)},children:e.jsxs("div",{className:"flex justify-center w-full text-white overflow-y-auto max-h-[85vh]  max-w-[80vw] overflow-y-auto border rounded-xl",onClick:l=>{l.stopPropagation()},children:[e.jsx("div",{className:"icon-space-not-available",children:e.jsx(B,{className:"mx-4 my-3",onClick:()=>r(!1)})}),s]})}),a):null},R=(s=!1)=>{const[r,a]=n.useState(s);return[r,a]},F=({setOpen:s})=>{const[r,{data:a}]=M();a&&s?.(!1);const[l,u]=n.useState({name:"",muscleGroup:"",equipment:"",difficulty:""}),d=o=>{const{name:h,value:x}=o.currentTarget;u(y=>({...y,[h]:x}))},i=o=>{o.preventDefault(),r(l)},c="flex-1 min-w-0 p-2 border-1 border-neutral-500 rounded-lg";return e.jsxs("div",{className:"w-[100%] h-[80vh] flex flex-col items-center",children:[e.jsx("h1",{className:"text-xl text-center p-2",children:"Add New Exercise"}),e.jsxs("form",{className:"flex flex-col gap-[1rem] w-[70%] min-h-[10vh]",children:[e.jsx("input",{type:"text",name:"name",value:l.name,placeholder:"Add Name",className:c,onChange:d}),e.jsx("input",{type:"text",name:"muscleGroup",value:l.muscleGroup,placeholder:"Add Muscle Group",className:c,onChange:d}),e.jsx("input",{type:"text",name:"equipment",value:l.equipment,placeholder:"Add Equipment",className:c,onChange:d}),e.jsx("input",{type:"text",name:"difficulty",value:l.difficulty,className:c,placeholder:"Add Difficulty",onChange:d}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"text-lg bg-neutral-800 rounded-full font-semibold p-4 w-fit text-neutral-200 ml-1",type:"submit",onClick:i,children:"Submit"})})]})]})},W=j(F,{light:!1,className:"m-2 p-2"}),H=({useInPopup:s,addNewModel:r,setOpen:a})=>{const[l,u]=R(),{isLoading:d,data:i}=L(),{width:c}=$(),[o,h]=n.useState(),[x,y]=n.useState(),v=n.useRef(O(t=>{y(t)},500)).current;n.useEffect(()=>{v(o)},[o]);const w=t=>{h(t.target.value)},b=a&&T(t=>t.addWorkout.data.exerciseSets.map(p=>p.exerciseId),_);let m=i?.data;const[f,N]=n.useState({});i&&i.data&&b&&(m=i?.data.filter(t=>!b.includes(t.id)));const E=()=>{};if(d)return e.jsx(q,{});const S=()=>{G(f).forEach(p=>{r?.(parseInt(p),f[p].name)}),a?.(!1)},g=Object.keys(f).length;m=x?m?.filter(t=>t.name.toLowerCase().includes(x.toLowerCase())):m;const C=()=>{u(t=>!t)};return e.jsxs("div",{className:"w-full flex justify-center items-center",children:[e.jsxs("div",{className:"flex flex-col w-[65%] p-[1rem] gap-[1rem] home-resize",children:[e.jsxs("div",{className:`${c<700?"flex flex-col":"flex"}`,children:[e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("p",{className:"text-2xl p-1 my-1 flex-1",children:"Exercise Library"}),e.jsx("button",{hidden:!!s,onClick:C,className:`flex ${c<700?"flex-1":""} text-lg gap-2 rounded-xl px-3 items-center py-2 bg-gray-800 border-2 border-gray-700 hover:border-gray-600 rounded-lg`,children:"Add Exercise"})]}),g>0&&e.jsx("button",{className:`text-xl p-1 my-2 ${c<700?"w-full":"w-[23vh]"} rounded-lg border border-1`,onClick:S,children:`Add Workout(${g})`})]}),e.jsx("input",{type:"text",name:"searchbar",placeholder:"Search term",className:"border-2 border-neutral-700 text-xl p-3",onChange:w,value:o}),e.jsx("div",{className:"flex flex-col gap-[2rem] max-h-[75vh] overflow-y-auto",children:m?.map(t=>e.jsx(D,{id:t.id,data:t,isSelected:s&&f.hasOwnProperty(t.id.toString()),setSelected:s?N:E}))})]}),l&&e.jsx(P,{setOpen:u,children:e.jsx(W,{setOpen:u})})]})},I=j(H,{light:!1,className:"h-screen"}),X=Object.freeze(Object.defineProperty({__proto__:null,Exercise:I},Symbol.toStringTag,{value:"Module"}));export{P as B,I as E,X as a,R as u};
